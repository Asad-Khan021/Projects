<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Mini Notes </title>
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600&display=swap" rel="stylesheet">
  <style>
    :root{
      --bg: #0f1724;
      --muted: #98a0b3;
      --accent: #7c5cff;
    }
    *{box-sizing:border-box;}
    html, body{height:100%; margin:0; font-family: 'Poppins', sans-serif; background: linear-gradient(180deg,#071021 0%, #0e1b2a 60%); color:#e6eef8; -webkit-font-smoothing:antialiased; padding:28px;}

    .wrap{max-width:1100px;margin:0 auto;}
    header{display:flex;gap:16px;align-items:center;justify-content:space-between;margin-bottom:20px;flex-wrap:wrap;}
    .brand{display:flex;align-items:center;gap:12px;}
    .logo{width:52px;height:52px;border-radius:12px;background:linear-gradient(135deg,var(--accent),#4bd0ff);display:flex;align-items:center;justify-content:center;font-weight:600;color:#071021;font-size:20px;box-shadow:0 6px 18px rgba(124,92,255,0.15);}
    h1{font-size:20px;margin:0;}
    p.lead{margin:0;color:var(--muted);font-size:13px;}

    .actions{display:flex;gap:10px;align-items:center;flex-wrap:wrap;}
    .search{background:rgba(255,255,255,0.03);border:1px solid rgba(255,255,255,0.04);padding:10px 12px;border-radius:10px;color:var(--muted);min-width:220px;}
    .filter-buttons{display:flex;gap:8px;margin-top:8px;flex-wrap:wrap;}
    .filter-btn{padding:6px 12px;border-radius:8px;border:none;background:var(--accent);color:#071021;font-weight:600;cursor:pointer;}

    .btn{background:var(--accent);border:none;padding:10px 14px;border-radius:10px;color:#071021;font-weight:600;cursor:pointer;}
    .btn.ghost{background:transparent;border:1px solid rgba(255,255,255,0.06);color:var(--muted);}

    .composer{background:linear-gradient(180deg, rgba(255,255,255,0.03), rgba(255,255,255,0.02));border:1px solid rgba(255,255,255,0.03);padding:14px;border-radius:14px;margin-bottom:18px;display:grid;grid-template-columns:1fr auto;gap:12px;align-items:start;}
    .composer-left{display:flex;flex-direction:column;gap:8px;}
    select.category{padding:8px 10px;border-radius:10px;border:1px solid rgba(255,255,255,0.03);background:transparent;color:inherit;font-weight:600;}
    input.title{background:transparent;border:1px solid rgba(255,255,255,0.03);padding:10px;border-radius:10px;color:inherit;font-weight:600;}
    textarea.body{min-height:76px;background:transparent;border:1px solid rgba(255,255,255,0.03);padding:10px;border-radius:10px;color:inherit;resize:vertical;}

    .composer-right{display:flex;flex-direction:column;gap:8px;align-items:flex-end;}
    .colors{display:flex;gap:8px;}
    .color-dot{width:28px;height:28px;border-radius:8px;cursor:pointer;border:2px solid rgba(255,255,255,0.04);}

    .notes-grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(240px,1fr));gap:14px;margin-top:18px;}
    .note{background:#ffffff;padding:14px;border-radius:12px;min-height:120px;display:flex;flex-direction:column;gap:8px;position:relative;overflow:hidden;box-shadow:0 4px 12px rgba(0,0,0,0.1);}
    .note h3{margin:0;font-size:15px;}
    .note p{margin:0;font-size:13px;white-space:pre-wrap;}
    .note .meta{display:flex;justify-content:space-between;align-items:center;margin-top:auto;font-size:12px;color:#555;}
    .note .tools{display:flex;gap:8px;}
    .icon-btn{background:transparent;border:1px solid rgba(0,0,0,0.1);padding:6px;border-radius:8px;cursor:pointer;color:#333;}
    .empty{padding:40px;border-radius:12px;text-align:center;border:1px dashed rgba(255,255,255,0.3);color:var(--muted);}

    @media (max-width:720px){.composer{grid-template-columns:1fr}.composer-right{align-items:stretch}}
  </style>
</head>
<body>
  <div class="wrap">
    <header>
      <div class="brand">
        <div class="logo">MN</div>
        <div>
          <h1>Mini Notes</h1>
          <p class="lead">Your smart little notebook</p>
        </div>
      </div>
      <div class="actions">
        <input id="search" class="search" placeholder="Search notes..." />
        <button id="clearAll" class="btn ghost">Clear All</button>
        <div class="filter-buttons">
          <button class="filter-btn" data-cat="all">All</button>
          <button class="filter-btn" data-cat="assignment">Assignment</button>
          <button class="filter-btn" data-cat="notice">Notice</button>
          <button class="filter-btn" data-cat="announcement">Announcement</button>
        </div>
      </div>
    </header>

    <section class="composer">
      <div class="composer-left">
        <select id="noteCategory" class="category">
          <option value="assignment">Assignment</option>
          <option value="notice">Notice</option>
          <option value="announcement">Announcement</option>
        </select>
        <input id="noteTitle" class="title" placeholder="Title (optional)" maxlength="60" />
        <textarea id="noteBody" class="body" placeholder="Write your note..."></textarea>
      </div>
      <div class="composer-right">
        <div class="colors" id="colorPalette">
          <div class="color-dot" data-color="#fff6c8" style="background:#fff6c8"></div>
          <div class="color-dot" data-color="#ffd6d6" style="background:#ffd6d6"></div>
          <div class="color-dot" data-color="#d6fff0" style="background:#d6fff0"></div>
          <div class="color-dot" data-color="#d6e0ff" style="background:#d6e0ff"></div>
          <div class="color-dot" data-color="#f0d6ff" style="background:#f0d6ff"></div>
        </div>
        <div style="display:flex;gap:8px">
          <button id="saveNote" class="btn">Save</button>
          <button id="clearComposer" class="btn ghost">Reset</button>
        </div>
      </div>
    </section>

    <main>
      <div id="notesGrid" class="notes-grid"></div>
      <div id="emptyState" class="empty" style="display:none">No notes yet â€” Enjoy!!!.</div>
    </main>
  </div>

  <script>
    const DOM={
      noteTitle:document.getElementById('noteTitle'),
      noteBody:document.getElementById('noteBody'),
      noteCategory:document.getElementById('noteCategory'),
      saveNote:document.getElementById('saveNote'),
      clearComposer:document.getElementById('clearComposer'),
      colorPalette:document.getElementById('colorPalette'),
      notesGrid:document.getElementById('notesGrid'),
      emptyState:document.getElementById('emptyState'),
      search:document.getElementById('search'),
      clearAll:document.getElementById('clearAll'),
      filterBtns:document.querySelectorAll('.filter-btn')
    };

    let notes=[], editId=null, selectedColor='#fff6c8', currentFilter='all';

    function loadNotes(){ const raw=localStorage.getItem('mini_notes_v3'); notes=raw?JSON.parse(raw):[]; }
    function saveToStorage(){ localStorage.setItem('mini_notes_v3', JSON.stringify(notes)); }

    function render(filter=''){
      DOM.notesGrid.innerHTML='';
      let displayNotes=(filter==='all')?notes:notes.filter(n=>n.category===filter);
      const searchFilter=DOM.search.value.trim().toLowerCase();
      displayNotes=displayNotes.filter(n=>(n.title+' '+n.body).toLowerCase().includes(searchFilter));
      DOM.emptyState.style.display=(displayNotes.length===0)?'block':'none';
      displayNotes.forEach(note=>{
        const el=document.createElement('article');
        el.className='note';
        el.style.background=note.color||'#fff6c8';
        el.style.color=['#ffd6d6','#fff6c8'].includes(note.color)?'#000':'#071021';
        el.innerHTML=`<h3>${note.title||'Untitled'}</h3><p>${note.body}</p><small>${note.category} | ${new Date(note.updated).toLocaleString()}</small>
        <div class='tools'><button class='icon-btn' data-action='edit' data-id='${note.id}'>Edit</button>
        <button class='icon-btn' data-action='delete' data-id='${note.id}'>Delete</button></div>`;
        el.querySelector('[data-action="edit"]').addEventListener('click',()=>startEdit(note.id));
        el.querySelector('[data-action="delete"]').addEventListener('click',()=>deleteNote(note.id));
        DOM.notesGrid.appendChild(el);
      });
    }

    function addNote(){
      const title=DOM.noteTitle.value.trim(), body=DOM.noteBody.value.trim(), category=DOM.noteCategory.value;
      if(!title&&!body){alert('Write something');return;}
      if(editId){
        const idx=notes.findIndex(n=>n.id===editId);
        if(idx>=0){notes[idx]={...notes[idx], title, body, category, color:selectedColor, updated:Date.now()};}
        editId=null;
      }else{
        notes.unshift({id:'n_'+Date.now()+Math.random().toString(36).slice(2,8), title, body, category, color:selectedColor, created:Date.now(), updated:Date.now()});
      }
      saveToStorage(); clearComposer(); render(currentFilter);
    }

    function startEdit(id){
      const note=notes.find(n=>n.id===id); if(!note) return;
      editId=id; DOM.noteTitle.value=note.title; DOM.noteBody.value=note.body; DOM.noteCategory.value=note.category; selectedColor=note.color||selectedColor; highlightPalette(selectedColor);
      window.scrollTo({top:0, behavior:'smooth'});
    }

    function deleteNote(id){ if(confirm('Delete this note?')){ notes=notes.filter(n=>n.id!==id); saveToStorage(); render(currentFilter); } }
    function clearComposer(){ DOM.noteTitle.value=''; DOM.noteBody.value=''; DOM.noteCategory.value='assignment'; editId=null; selectedColor='#fff6c8'; highlightPalette(selectedColor); }
    function highlightPalette(color){ document.querySelectorAll('.color-dot').forEach(d=>{ d.style.outline=(d.dataset.color===color)?'3px solid rgba(0,0,0,0.12)':'none'; }); }

    DOM.saveNote.addEventListener('click', addNote);
    DOM.clearComposer.addEventListener('click', clearComposer);
    DOM.search.addEventListener('input', ()=>render(currentFilter));
    DOM.colorPalette.querySelectorAll('.color-dot').forEach(dot=>{ dot.addEventListener('click', ()=>{ selectedColor=dot.dataset.color; highlightPalette(selectedColor); }); });
    DOM.clearAll.addEventListener('click', ()=>{ if(confirm('Clear ALL notes?')){ notes=[]; saveToStorage(); render(currentFilter); } });
    DOM.filterBtns.forEach(btn=>{ btn.addEventListener('click', ()=>{ currentFilter=btn.dataset.cat; render(currentFilter); }); });
    document.addEventListener('keydown', e=>{ if((e.ctrlKey||e.metaKey)&&e.key==='Enter'){ addNote(); } });

    loadNotes(); highlightPalette(selectedColor); render();
  </script>
</body>
</html>